webpackJsonp([1],{0:function(e,t){},"7Otq":function(e,t,a){e.exports=a.p+"./static/img/logo.17e5f41.png"},L6NK:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(e){a("L6NK")},null,null).exports,i=a("/ocq"),n={name:"Main",data:function(){return{dialogVisible:!1,isLogin:!1,ruleForm:{user:"",password:""},rules:{user:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},form:{id:"",name:""},tableData:[],total:0,currentPage:1,buyer:{name:"",phone:""},buyerrules:{name:[{required:!0,message:"请输入采购员姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入采购员电话",trigger:"blur"}]}}},methods:{submitForm:function(){var e=this;this.$refs.myform.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.$http.post("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/login",e.ruleForm).then(function(t){"200"===t.body.data.code?(e.$message({type:"success",message:"登录成功"}),e.isLogin=!0,sessionStorage.setItem("login","yes"),e.getData()):"10001"===t.body.data.code?e.$message({type:"error",message:"用户名错误"}):"10002"===t.body.data.code?e.$message({type:"error",message:"密码错误"}):e.$message({type:"error",message:"未知错误"})})})},handleCurrentChange:function(e){var t=this;this.$http.get("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/buyer?p="+e).then(function(e){t.tableData=e.body.data.data,t.total=e.body.data.total})},search:function(){var e=this;this.$http.get("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/buyer?id="+this.form.id+"&name="+this.form.name).then(function(t){e.$message({type:"success",message:"查询成功"}),e.tableData=t.body.data.data,e.total=t.body.data.total})},getData:function(){var e=this;this.$http.get("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/buyer?p=1").then(function(t){e.tableData=t.body.data.data,e.total=t.body.data.total})},logout:function(){sessionStorage.removeItem("login"),this.$message({type:"success",message:"退出成功"}),this.$router.push("/"),this.isLogin=!1},del:function(e){var t=this;this.$confirm("确定要删除采购员信息吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.delete("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/buyer?id="+e).then(function(e){"200"===e.body.data.code?t.$message({type:"success",message:"删除成功"}):"10001"===e.body.data.code?t.$message({type:"error",message:"删除失败"}):t.$message({type:"error",message:"未知错误"})})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},add:function(){this.dialogVisible=!0},submitbuyer:function(){var e=this;this.$refs.buyer.validate(function(t){t&&e.$http.post("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/buyer",e.buyer).then(function(t){e.dialogVisible=!1,"200"===t.body.data.code?e.$message({type:"success",message:"添加成功"}):e.$message({type:"error",message:"添加失败"})})})}},mounted:function(){sessionStorage.getItem("login")&&(this.isLogin=!0,this.getData())}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLogin?a("div",{staticClass:"main"},[a("div",{attrs:{id:"topbar"}},[a("div",{attrs:{id:"container"}},[e._m(0),e._v(" "),a("span",{staticClass:"logout",on:{click:e.logout}},[e._v("退出")])])]),e._v(" "),e._m(1),e._v(" "),a("div",{attrs:{id:"searchbar"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"采购员ID"}},[a("el-input",{attrs:{placeholder:"采购员ID"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采购员姓名"}},[a("el-input",{attrs:{placeholder:"采购员姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{attrs:{id:"tablebar"}},[a("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:e.add}},[e._v("增加采购员")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"employeeid",label:"采购员id",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"employeename",label:"采购员姓名",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobileno",label:"联系方式",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"number",label:"关联供应商数量",align:"center",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"medium"}},[a("a",{attrs:{href:"#/detail/"+t.row.employeeid}},[e._v("查看")])]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"medium"},on:{click:function(a){e.del(t.row.employeeid)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"30px"}},[a("el-col",{staticStyle:{display:"flex","justify-content":"center"},attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.total},on:{"size-change":function(e){},"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"buyer",attrs:{model:e.buyer,rules:e.buyerrules}},[a("el-form-item",{attrs:{label:"采购员姓名",prop:"name"}},[a("el-input",{attrs:{type:"text"},model:{value:e.buyer.name,callback:function(t){e.$set(e.buyer,"name",t)},expression:"buyer.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"采购员联系方式",prop:"phone"}},[a("el-input",{attrs:{type:"text"},model:{value:e.buyer.phone,callback:function(t){e.$set(e.buyer,"phone",t)},expression:"buyer.phone"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitbuyer}},[e._v("确 定")])],1)],1)],1):a("div",{staticClass:"login"},[a("div",{attrs:{id:"logo"}}),e._v(" "),a("div",{attrs:{id:"loginbox"}},[a("el-form",{ref:"myform",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"user"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm()}}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"el-icon-info"}),this._v("  管理员 张三")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"logobar"}},[t("img",{attrs:{src:a("7Otq"),alt:""}})])}]};var c=a("VU/8")(n,l,!1,function(e){a("a3ba")},"data-v-81d4a8b0",null).exports,u={data:function(){return{tableData:[],data:{},total:20,id:""}},methods:{save:function(){var e=this;this.$http.put("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/updatephone?phone="+this.data.mobileno+"&id="+this.id).then(function(t){"200"==t.body.data.code?e.$message({type:"success",message:"修改成功"}):e.$message({type:"error",message:"修改失败"})})},logout:function(){sessionStorage.removeItem("login"),this.$message({type:"success",message:"退出成功"}),this.$router.push("/")}},mounted:function(){var e=this,t=this.$route.params.id;this.id=t,this.$http.get("https://www.easy-mock.com/mock/5beaba6fe551c21d755b95fc/api/somebuyer?id="+t).then(function(t){e.data=t.body.data.buyer[0],e.number=e.data.mobileno,e.tableData=t.body.data.supply,e.total=e.tableData.length})}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"topbar"}},[a("div",{attrs:{id:"container"}},[e._m(0),e._v(" "),a("span",{staticClass:"logout",on:{click:e.logout}},[e._v("退出")])])]),e._v(" "),e._m(1),e._v(" "),a("div",{attrs:{id:"message"}},[a("h3",{staticClass:"title"},[e._v("采购员基本信息")]),e._v(" "),a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"采购员ID:"}},[e._v("\n                "+e._s(e.data.employeeid)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:"采购员姓名:"}},[e._v("\n                "+e._s(e.data.employeename)+"\n            ")]),e._v(" "),a("el-form-item",{attrs:{label:"电话号码:"}},[a("el-input",{model:{value:e.data.mobileno,callback:function(t){e.$set(e.data,"mobileno",t)},expression:"data.mobileno"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1),e._v(" "),a("div",{attrs:{id:"tablebar"}},[a("h3",{staticClass:"title"},[e._v("关联供应商 "),a("span",[e._v("总个数："+e._s(e.total))])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"companyid",label:"供应商id",sortable:"",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"companyname",label:"供应商姓名姓名",sortable:"",align:"center"}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"el-icon-info"}),this._v(" 管理员:张三")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"logobar"}},[t("img",{attrs:{src:a("7Otq"),alt:""}})])}]};var d=a("VU/8")(u,m,!1,function(e){a("cAib")},"data-v-ef073784",null).exports;s.default.use(i.a);var p=new i.a({routes:[{path:"/",component:c},{path:"/detail/:id",component:d}]}),b=a("9ab0"),f=a.n(b),g=a("OolZ");a("tqWA");s.default.config.productionTip=!1,s.default.use(f.a),s.default.use(g.a),new s.default({el:"#app",router:p,components:{App:r},template:"<App/>"})},a3ba:function(e,t){},cAib:function(e,t){},tqWA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5f793e1d44892e4dffe7.js.map